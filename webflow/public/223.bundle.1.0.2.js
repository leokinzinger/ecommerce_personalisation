"use strict";(self.webpackChunkwebflow_dev_template=self.webpackChunkwebflow_dev_template||[]).push([[223],{223:(e,t,o)=>{function n(e,t){e.value=t?e.getAttribute("data-wait"):e.getAttribute("data-initial-state")}function a(){!function(e,t,o,a=null,r=!0){const c=document.getElementById(e);c.parentElement.classList.remove("w-form"),c.onsubmit=async e=>{e.preventDefault();const r=c.querySelector('[w-el="SubmitButton"]');n(r,!0);try{const n=t(new FormData(c),e),r=await o(n);a(r)}catch(e){console.error(e)}finally{n(r,!1)}}}("wf-form-Generate-Product-Form",r,c,s)}function r(e){const t=document.getElementById("image_wrapper"),o=document.querySelector(".starter-description");return o&&o.remove(),t.insertAdjacentHTML("beforeend",'<div class="skeleton-loader"></div>'),{form:e.get("product_shape"),sole:e.get("product_sole"),bodyMaterial:e.get("product_material"),bodyPattern:e.get("product_pattern"),laces:e.get("product_laces"),generalstyle:e.get("product_gender")}}async function c(e){console.log(e);const t=await fetch("https://us-central1-quiet-amp-415709.cloudfunctions.net/genai_for_product_design_1",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),o=await t.json();return t.ok?{success:!0,data:o}:{success:!1,data:null}}function s(e){if(e.success){console.log("success!"),console.log(e),document.getElementById("generated_image").src=e.data.image_url;document.getElementById("image_wrapper").querySelectorAll(".skeleton-loader").forEach((function(e){e.parentNode.removeChild(e)}))}else console.log("failed!")}o.r(t),o.d(t,{render:()=>a})}}]);
//# sourceMappingURL=223.bundle.1.0.2.js.map